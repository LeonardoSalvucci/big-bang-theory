---
import Logo from '../components/Logo.astro';
import Layout from '../layouts/Layout.astro';

interface Char {
	id: number;
	name: string;
	photo: string;
	charName: string;
}

interface PaginatedResponse {
	total: number;
	pages: number;
	limit: number;
	items: Char[];
}

const response = await fetch('https://big-bang-theory-api.lesalvucci.workers.dev/all')
const chars: PaginatedResponse = await response.json()
---

<Layout title="The Big Bang Theory.">
	<main class="bg-gradient-radial from-primary-light-orange to-primary-orange">
		<div class="container m-auto">
			<article class="flex flex-col justify-center items-center gap-20">
				<header class="flex flex-col justify-center items-center gap-5 pt-20 pb-10">
					<Logo />
					<h2 class="font-title text-4xl">Cast gallery</h2>
				</header>
				<section class="flex flex-col flex-1 w-3/5">
					<span class="font-title text-2xl text-bang-red">Search</span>
					<input type="text" class="w-full h-10 rounded-md border-2 border-bang-red text-bang-red pl-10 bg-primary-light-orange placeholder-zinc-500" placeholder="Search by name or character name..." />
				</section>
				<section class="grid grid-cols-3 gap-10">
					{
						chars.items.map(char => {
							return (
								<div class="flex flex-col justify-center items-center gap-5">
									<img src={char.photo} alt={char.name} class="" />
									<h3 class="font-title text-2xl">{char.name}</h3>
								</div>
							)
						})
					}
				</section>
			</article>
		</div>
	</main>
</Layout>

<style>

</style>
